<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Lesson 4 What can I do with webexercises? | Web Exercises Demo</title>
  <meta name="description" content="Lesson 4 What can I do with webexercises? | Web Exercises Demo" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Lesson 4 What can I do with webexercises? | Web Exercises Demo" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Lesson 4 What can I do with webexercises? | Web Exercises Demo" />
  
  
  

<meta name="author" content="Francis J. DiTraglia" />


<meta name="date" content="2022-02-20" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="setup.html"/>

<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  background-color: #f8f8f8; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
<link rel="stylesheet" href="include/webex.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="toc-logo"><a href="./"><img src="images/core-erm-logo.png"></a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#about-this-book"><i class="fa fa-check"></i>About This Book</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#pre-requisites"><i class="fa fa-check"></i>Pre-requisites</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#why-not-stata"><i class="fa fa-check"></i>Why not Stata?</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#why-not-matlab"><i class="fa fa-check"></i>Why not Matlab?</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#why-r"><i class="fa fa-check"></i>Why R?</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#some-half-truths-about-r"><i class="fa fa-check"></i>Some Half-truths about R</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#why-not-julia-or-python"><i class="fa fa-check"></i>Why not Julia or Python?</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="rcrash.html"><a href="rcrash.html"><i class="fa fa-check"></i><b>1</b> A Crash Course in R Programming</a>
<ul>
<li class="chapter" data-level="1.1" data-path="rcrash.html"><a href="rcrash.html#installing-r-and-rstudio"><i class="fa fa-check"></i><b>1.1</b> Installing R and RStudio</a></li>
<li class="chapter" data-level="1.2" data-path="rcrash.html"><a href="rcrash.html#working-with-r-scripts"><i class="fa fa-check"></i><b>1.2</b> Working with R Scripts</a></li>
<li class="chapter" data-level="1.3" data-path="rcrash.html"><a href="rcrash.html#the-absolute-basics"><i class="fa fa-check"></i><b>1.3</b> The Absolute Basics</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="rcrash.html"><a href="rcrash.html#arithmetic"><i class="fa fa-check"></i><b>1.3.1</b> Arithmetic</a></li>
<li class="chapter" data-level="1.3.2" data-path="rcrash.html"><a href="rcrash.html#exponents-logarithms-and-trigonometry"><i class="fa fa-check"></i><b>1.3.2</b> Exponents, Logarithms, and Trigonometry</a></li>
<li class="chapter" data-level="1.3.3" data-path="rcrash.html"><a href="rcrash.html#logical-comparison"><i class="fa fa-check"></i><b>1.3.3</b> Logical Comparison</a></li>
<li class="chapter" data-level="1.3.4" data-path="rcrash.html"><a href="rcrash.html#strings-text"><i class="fa fa-check"></i><b>1.3.4</b> Strings (text)</a></li>
<li class="chapter" data-level="1.3.5" data-path="rcrash.html"><a href="rcrash.html#variables"><i class="fa fa-check"></i><b>1.3.5</b> Variables</a></li>
<li class="chapter" data-level="1.3.6" data-path="rcrash.html"><a href="rcrash.html#vectors-types"><i class="fa fa-check"></i><b>1.3.6</b> Vectors &amp; Types</a></li>
<li class="chapter" data-level="1.3.7" data-path="rcrash.html"><a href="rcrash.html#vector-arithmetic-and-functions"><i class="fa fa-check"></i><b>1.3.7</b> Vector Arithmetic and Functions</a></li>
<li class="chapter" data-level="1.3.8" data-path="rcrash.html"><a href="rcrash.html#subsetting-vectors"><i class="fa fa-check"></i><b>1.3.8</b> Subsetting Vectors: <code>[</code></a></li>
<li class="chapter" data-level="1.3.9" data-path="rcrash.html"><a href="rcrash.html#named-vectors"><i class="fa fa-check"></i><b>1.3.9</b> Named Vectors</a></li>
<li class="chapter" data-level="1.3.10" data-path="rcrash.html"><a href="rcrash.html#getting-help-documentation"><i class="fa fa-check"></i><b>1.3.10</b> Getting Help: Documentation</a></li>
<li class="chapter" data-level="1.3.11" data-path="rcrash.html"><a href="rcrash.html#lists"><i class="fa fa-check"></i><b>1.3.11</b> Lists</a></li>
<li class="chapter" data-level="1.3.12" data-path="rcrash.html"><a href="rcrash.html#packages"><i class="fa fa-check"></i><b>1.3.12</b> Packages</a></li>
<li class="chapter" data-level="1.3.13" data-path="rcrash.html"><a href="rcrash.html#data.tables"><i class="fa fa-check"></i><b>1.3.13</b> <code>data.table</code>s</a></li>
<li class="chapter" data-level="1.3.14" data-path="rcrash.html"><a href="rcrash.html#subsetting-data"><i class="fa fa-check"></i><b>1.3.14</b> Subsetting data</a></li>
<li class="chapter" data-level="1.3.15" data-path="rcrash.html"><a href="rcrash.html#loading-external-data-data-summary"><i class="fa fa-check"></i><b>1.3.15</b> Loading External Data &amp; Data Summary</a></li>
<li class="chapter" data-level="1.3.16" data-path="rcrash.html"><a href="rcrash.html#more-on-data.table-access"><i class="fa fa-check"></i><b>1.3.16</b> More on <code>data.table</code> Access</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="rcrash.html"><a href="rcrash.html#part-3-exercises"><i class="fa fa-check"></i><b>1.4</b> Part 3: Exercises</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="why-webexercises.html"><a href="why-webexercises.html"><i class="fa fa-check"></i><b>2</b> Why <code>webexercises</code>?</a></li>
<li class="chapter" data-level="3" data-path="setup.html"><a href="setup.html"><i class="fa fa-check"></i><b>3</b> Setup</a></li>
<li class="chapter" data-level="4" data-path="what-can-i-do-with-webexercises.html"><a href="what-can-i-do-with-webexercises.html"><i class="fa fa-check"></i><b>4</b> What can I do with <code>webexercises</code>?</a>
<ul>
<li class="chapter" data-level="4.1" data-path="what-can-i-do-with-webexercises.html"><a href="what-can-i-do-with-webexercises.html#tally-the-number-of-correct-answers-total_correct"><i class="fa fa-check"></i><b>4.1</b> Tally the number of correct answers: <code>total_correct()</code></a></li>
<li class="chapter" data-level="4.2" data-path="what-can-i-do-with-webexercises.html"><a href="what-can-i-do-with-webexercises.html#create-a-truefalse-question-torf"><i class="fa fa-check"></i><b>4.2</b> Create a TRUE/FALSE question: <code>torf()</code></a></li>
<li class="chapter" data-level="4.3" data-path="what-can-i-do-with-webexercises.html"><a href="what-can-i-do-with-webexercises.html#create-fill-in-the-blank-questions-fitb"><i class="fa fa-check"></i><b>4.3</b> Create fill-in-the-blank Questions: <code>fitb()</code></a></li>
<li class="chapter" data-level="4.4" data-path="what-can-i-do-with-webexercises.html"><a href="what-can-i-do-with-webexercises.html#create-a-multiple-choice-question-mcq-mcqlong"><i class="fa fa-check"></i><b>4.4</b> Create a multiple choice question: <code>mcq(), mcqlong()</code></a></li>
<li class="chapter" data-level="4.5" data-path="what-can-i-do-with-webexercises.html"><a href="what-can-i-do-with-webexercises.html#hide-solutions-create-hints"><i class="fa fa-check"></i><b>4.5</b> Hide Solutions / Create Hints</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="what-can-i-do-with-webexercises.html"><a href="what-can-i-do-with-webexercises.html#example-1-inline-hint-and-solution"><i class="fa fa-check"></i><b>4.5.1</b> Example 1: Inline Hint and Solution</a></li>
<li class="chapter" data-level="4.5.2" data-path="what-can-i-do-with-webexercises.html"><a href="what-can-i-do-with-webexercises.html#example-2-chunk-solution-that-doesnt-execute"><i class="fa fa-check"></i><b>4.5.2</b> Example 2: Chunk solution that doesn't execute</a></li>
<li class="chapter" data-level="4.5.3" data-path="what-can-i-do-with-webexercises.html"><a href="what-can-i-do-with-webexercises.html#example-3-chunk-solution-that-evaluates"><i class="fa fa-check"></i><b>4.5.3</b> Example 3: Chunk solution that evaluates</a></li>
<li class="chapter" data-level="4.5.4" data-path="what-can-i-do-with-webexercises.html"><a href="what-can-i-do-with-webexercises.html#example-4-show-the-output-hide-the-code"><i class="fa fa-check"></i><b>4.5.4</b> Example 4: Show the output, hide the code</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Web Exercises Demo</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="what-can-i-do-with-webexercises" class="section level1" number="4">
<h1><span class="header-section-number">Lesson 4</span> What can I do with <code>webexercises</code>?</h1>
<p>With setup out of the way, let's take a look at some of the tools that <code>webexercises</code> provides us. It can be used to</p>
<ul>
<li>tally up the number of correct answers: <code>total_correct()</code></li>
<li>create TRUE/FALSE questions: <code>torf()</code></li>
<li>create fill-in-the-blank questions: <code>fitb()</code></li>
<li>create multiple choice questions: <code>mcq()</code> or <code>longmcq()</code></li>
<li>hide solutions / create hints: <code>hide()</code>, <code>unhide()</code>, or <code>webex.hide = TRUE</code></li>
</ul>
<p>We'll now examine each of these possibilities in detail.</p>
<div id="tally-the-number-of-correct-answers-total_correct" class="section level2" number="4.1">
<h2><span class="header-section-number">4.1</span> Tally the number of correct answers: <code>total_correct()</code></h2>
<p>Suppose that you want to keep track of how many questions a user has answered correctly so far. You can do this with the <code>total_correct()</code> function. The <code>elem</code> and <code>args</code> arguments control formatting: <code>elem</code> is used to set header styles, say you wanted <code>h3</code> instead of <code>h2</code>, and <code>args</code> feeds in raw CSS if you want to make manual tweaks:</p>
<h3 style="color:#003366;" id="webex-total_correct">
</h3>
<p>It doesn't matter where you put <code>total_correct()</code> in your document: it will still work as expected. In this document, for example, it appears near the top. Nevertheless, as you work down to the bottom and answer more questions, the tally will update dynamically.</p>
</div>
<div id="create-a-truefalse-question-torf" class="section level2" number="4.2">
<h2><span class="header-section-number">4.2</span> Create a TRUE/FALSE question: <code>torf()</code></h2>
<p>Supply the correct answer as the first argument to <code>torf()</code>. This should either be <code>TRUE</code> or <code>FALSE</code>, e.g.</p>
<ul>
<li>True or False: <span class="math inline">\(\pi\)</span> is a rational number. <select class='webex-select'><option value='blank'></option><option value=''>TRUE</option><option value='answer'>FALSE</option></select></li>
</ul>
</div>
<div id="create-fill-in-the-blank-questions-fitb" class="section level2" number="4.3">
<h2><span class="header-section-number">4.3</span> Create fill-in-the-blank Questions: <code>fitb()</code></h2>
<p>As with <code>torf()</code>, supply the correct answer as the first argument of <code>fitb()</code>. The difference is that <code>fitb()</code> allows you to supply something <em>other than</em> <code>TRUE</code> or <code>FALSE</code> as the correct answer, and displays a text field rather than a drop-down menu:</p>
<ul>
<li><span class="math inline">\(8 \times 9 =\)</span> <input class='webex-solveme nospaces' size='2' data-answer='["72"]'/></li>
</ul>
<p>This correct answer doesn't have to be hard-coded: you can do calculations in place or supply the name of an R object created elsewhere in your RMarkdown document. This allows you to create a <em>dynamic</em> question and answer. Here's an example in which the question is <em>randomly generated</em> when you knit this document:</p>
<ul>
<li>The square root of 25 is: <input class='webex-solveme nospaces' size='1' data-answer='["5"]'/></li>
</ul>
<p>If the correct answer is <code>E</code>, but a user enters <code>e</code>, this will be marked as incorrect: <code>fitb()</code> is <em>case sensitive</em>. To turn this off, set <code>ignore_case = TRUE</code>.</p>
<ul>
<li>What is the letter after D? <input class='webex-solveme nospaces ignorecase' size='1' data-answer='["E"]'/></li>
</ul>
<p>By default <code>fitb()</code> <em>ignores whitespace</em>. For example, <code>rnorm ( 3 )</code> is counted as a correct answer to the following:</p>
<ul>
<li>Write R code to make three independent standard normal draws. <input class='webex-solveme nospaces' size='8' data-answer='["rnorm(3)"]'/></li>
</ul>
<p>If you want <code>fitb()</code> to treat whitespace as meaningful, set <code>ignore_ws = TRUE</code>.</p>
<p>Some fill-in-the-blank questions have more than one correct answer. To create such a question, simply supply a vector as the first argument to <code>fitb()</code>:</p>
<ul>
<li>Type a vowel: <input class='webex-solveme nospaces ignorecase' size='1' data-answer='["A","E","I","O","U"]'/></li>
</ul>
<p>Want to do something more complicated? No problem! You can supply regular expressions as a solution to <code>fitb()</code> as follows:</p>
<ul>
<li>Type any 3 letters: <input class='webex-solveme nospaces regex' size='3' data-answer='["^[a-zA-Z]{3}$"]'/></li>
</ul>
<p>Here's an example with multiple correct answers to a coding question:</p>
<ul>
<li>How do you load the tidyverse package? <input class='webex-solveme nospaces' size='20' data-answer='["library( tidyverse )","library( \"tidyverse\" )","library( &apos;tidyverse&apos; )"]'/></li>
</ul>
<p><strong>I'm not clear on what the <code>width</code> argument does. Look it up!</strong></p>
</div>
<div id="create-a-multiple-choice-question-mcq-mcqlong" class="section level2" number="4.4">
<h2><span class="header-section-number">4.4</span> Create a multiple choice question: <code>mcq(), mcqlong()</code></h2>
<p>Use <code>mcq()</code> to create a "short" multiple choice question. The first argument is a vector of answers in which the <em>correct</em> answer is given the name <code>answer</code> and all other elements are un-named, e.g. <code>c('Harris', 'Trump', answer = 'Biden', 'Clinton')</code> in the following:</p>
<ul>
<li>Who was elected president of the United States in November 2020? <select class='webex-select'><option value='blank'></option><option value=''>Harris</option><option value=''>Trump</option><option value='answer'>Biden</option><option value=''>Clinton</option></select></li>
</ul>
<p>To create a multiple choice question with radio buttons rather than a dropdown menu, use <code>mcqlong()</code>. This tends to result in nicer formatting than a drop-down if the answers to your question are "long," hence the name of the function. When your answers are long, inline R code can be hard to read. To avoid this problem, you can set up your multiple choice answers in a vector within an R chunk with <code>echo=FALSE</code> and then supply that vector as the first argument to <code>longmcq()</code> in an inline R chunk. For example:</p>
<p><strong>Which of these statements about p-values is correct?</strong></p>
<div id="radio_DFBZNOMFYQ" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_DFBZNOMFYQ" value=""></input> <span>A p-value is the probability that the null hypothesis is true</span></label><label><input type="radio" autocomplete="off" name="radio_DFBZNOMFYQ" value="answer"></input> <span>A p-value is the probability of observing a test statistic at least as extreme as the one we actually observed, assuming that the null hypothesis is true.</span></label><label><input type="radio" autocomplete="off" name="radio_DFBZNOMFYQ" value=""></input> <span>The p-value is the probability of making a mistake when testing a hypothesis.</span></label>
</div>
<p><strong>What is true about a 95% confidence interval for the population mean <span class="math inline">\(\mu\)</span>?</strong></p>
<div id="radio_ADMDBBPWNS" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_ADMDBBPWNS" value=""></input> <span>The probability that <span class="math inline">\(\mu\)</span> lies in our confidence interval equals 0.95.</span></label><label><input type="radio" autocomplete="off" name="radio_ADMDBBPWNS" value="answer"></input> <span>If we repeatedly draw a sample of the same size from the same population, and construct an interval in this way for each sample, then approximately 95% of the intervals will contain <span class="math inline">\(\mu\)</span>.</span></label><label><input type="radio" autocomplete="off" name="radio_ADMDBBPWNS" value=""></input> <span>Approximately 95% of the values in our dataset will fall within the confidence interval.</span></label>
</div>
</div>
<div id="hide-solutions-create-hints" class="section level2" number="4.5">
<h2><span class="header-section-number">4.5</span> Hide Solutions / Create Hints</h2>
<p>This is the main piece of functionality that I was hoping to use for my Core ERM course: hiding hints and solutions to exercises and providing buttons that students can click to reveal them.</p>
<p>There are two ways to do this: inline, and using R chunks. For inline hints and solutions, put <code>hide()</code> before and <code>unhide()</code> after the hint or solution. Each of these should be inserted as inline R code. Provide a text string as an argument to <code>hide()</code> to control the text displayed on the button. Here's an example:</p>
<div id="example-1-inline-hint-and-solution" class="section level3" number="4.5.1">
<h3><span class="header-section-number">4.5.1</span> Example 1: Inline Hint and Solution</h3>
<p><strong>Make a histogram of 100 independent standard normal draws.</strong></p>
<div class="webex-solution">
<button>
Show Hint
</button>
<p>Look at the R help functions for <code>rnorm()</code> and <code>hist()</code>.</p>
</div>
<div class="webex-solution">
<button>
Show Solution
</button>
<p><code>hist(rnorm(100))</code></p>
</div>
<p>The hide/unhide patter is most useful for hints, where you don't actually want to run any code, and only want to display a sentence or two. For solutions, whether or not you want to run them, it's you'll probably want to use an R chunk. To do this, set the <code>webex.hide</code> option to <code>TRUE</code>. Alternatively you can set <code>webex.hide = 'Your Text Here'</code> to control the text that appears on the button. For a solution that <em>doesn't evaluate</em>, set <code>eval = FALSE</code>.</p>
</div>
<div id="example-2-chunk-solution-that-doesnt-execute" class="section level3" number="4.5.2">
<h3><span class="header-section-number">4.5.2</span> Example 2: Chunk solution that doesn't execute</h3>
<div class="webex-solution">
<button>
Show Solution
</button>
<div class="sourceCode" id="cb284"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb284-1"><a href="what-can-i-do-with-webexercises.html#cb284-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">100</span>)</span>
<span id="cb284-2"><a href="what-can-i-do-with-webexercises.html#cb284-2" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(x)</span></code></pre></div>
</div>
</div>
<div id="example-3-chunk-solution-that-evaluates" class="section level3" number="4.5.3">
<h3><span class="header-section-number">4.5.3</span> Example 3: Chunk solution that evaluates</h3>
<div class="webex-solution">
<button>
Show Solution
</button>
<div class="sourceCode" id="cb285"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb285-1"><a href="what-can-i-do-with-webexercises.html#cb285-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">100</span>)</span>
<span id="cb285-2"><a href="what-can-i-do-with-webexercises.html#cb285-2" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(x)</span></code></pre></div>
<p><img src="erm-book_files/figure-html/unnamed-chunk-14-1.png" width="672" /></p>
</div>
<p>Sometimes you may want to start by both explaining the exercise <em>and</em> showing the desired output, while hiding the code used to generate it. To avoid re-typing code, create a <em>named chunk</em> with the chunk option <code>echo = FALSE</code>. This chunk will display the output only, not the code used to generate it. Then create an <em>empty chunk</em> below it with the same name but set <code>eval = FALSE</code> and <code>webex.hide=TRUE</code> or <code>webex.hide='Your Text Here'</code>. For this second chunk <em>don't set</em> <code>echo = FALSE</code>.</p>
</div>
<div id="example-4-show-the-output-hide-the-code" class="section level3" number="4.5.4">
<h3><span class="header-section-number">4.5.4</span> Example 4: Show the output, hide the code</h3>
<p>The <code>mtcars</code> dataset contains the following variables:</p>
<div class="sourceCode" id="cb286"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb286-1"><a href="what-can-i-do-with-webexercises.html#cb286-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(mtcars)</span></code></pre></div>
<pre><code>##                    mpg cyl disp  hp drat    wt  qsec vs am gear carb
## Mazda RX4         21.0   6  160 110 3.90 2.620 16.46  0  1    4    4
## Mazda RX4 Wag     21.0   6  160 110 3.90 2.875 17.02  0  1    4    4
## Datsun 710        22.8   4  108  93 3.85 2.320 18.61  1  1    4    1
## Hornet 4 Drive    21.4   6  258 110 3.08 3.215 19.44  1  0    3    1
## Hornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2
## Valiant           18.1   6  225 105 2.76 3.460 20.22  1  0    3    1</code></pre>
<p>Write code to generate the following plot using this dataset:
<img src="erm-book_files/figure-html/example4-1.png" width="672" /></p>
<div class="webex-solution">
<button>
Show Solution
</button>
<div class="sourceCode" id="cb288"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb288-1"><a href="what-can-i-do-with-webexercises.html#cb288-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(mpg <span class="sc">~</span> disp, <span class="at">data =</span> mtcars, </span>
<span id="cb288-2"><a href="what-can-i-do-with-webexercises.html#cb288-2" aria-hidden="true" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">&quot;Fuel Efficiency (mpg) versus Engine Displacement (cc)&quot;</span>)</span></code></pre></div>
</div>
<!-- TO CHANGE WIDGET COLOURS:
  move command below out of this HTML comment area
  and then re-compile;
  unfilled becomes yellow, correct becomes pink 
     

<style>
    .webex-solveme { border-color: #FFFF00; }
    .webex-solveme.webex-correct { border-color: #FF3399; }
</style>


-->

</div>
</div>
</div>















<script>

/* update total correct if #webex-total_correct exists */
update_total_correct = function() {
  console.log("webex: update total_correct");

  if (t = document.getElementById("webex-total_correct")) {
    var correct = document.getElementsByClassName("webex-correct").length;
    var solvemes = document.getElementsByClassName("webex-solveme").length;
    var radiogroups = document.getElementsByClassName("webex-radiogroup").length;
    var selects = document.getElementsByClassName("webex-select").length;
    
    t.innerHTML = correct + " of " + (solvemes + radiogroups + selects) + " correct";
  }
}

/* webex-solution button toggling function */
b_func = function() {
  console.log("webex: toggle hide");
  
  var cl = this.parentElement.classList;
  if (cl.contains('open')) {
    cl.remove("open");
  } else {
    cl.add("open");
  }
}

/* function for checking solveme answers */
solveme_func = function(e) {
  console.log("webex: check solveme");

  var real_answers = JSON.parse(this.dataset.answer);
  var my_answer = this.value;
  var cl = this.classList;
  if (cl.contains("ignorecase")) {
    my_answer = my_answer.toLowerCase();
  }
  if (cl.contains("nospaces")) {
    my_answer = my_answer.replace(/ /g, "")
  }

  if (my_answer == "") {
    cl.remove("webex-correct");
    cl.remove("webex-incorrect");
  } else if (real_answers.includes(my_answer)) {
    cl.add("webex-correct");
    cl.remove("webex-incorrect");
  } else {
    cl.add("webex-incorrect");
    cl.remove("webex-correct");
  }

  // match numeric answers within a specified tolerance
  if(this.dataset.tol > 0){
    var tol = JSON.parse(this.dataset.tol);
    var matches = real_answers.map(x => Math.abs(x - my_answer) < tol)
    if (matches.reduce((a, b) => a + b, 0) > 0) {
      cl.add("webex-correct");
    } else {
      cl.remove("webex-correct");
    }
  }

  // added regex bit
  if (cl.contains("regex")){
    answer_regex = RegExp(real_answers.join("|"))
    if (answer_regex.test(my_answer)) {
      cl.add("webex-correct");
    }
  }

  update_total_correct();
}

/* function for checking select answers */
select_func = function(e) {
  console.log("webex: check select");
  
  var cl = this.classList
  
  /* add style */
  cl.remove("webex-incorrect");
  cl.remove("webex-correct");
  if (this.value == "answer") {
    cl.add("webex-correct");
  } else if (this.value != "blank") {
    cl.add("webex-incorrect");
  }
  
  update_total_correct();
}

/* function for checking radiogroups answers */
radiogroups_func = function(e) {
  console.log("webex: check radiogroups");

  var checked_button = document.querySelector('input[name=' + this.id + ']:checked');
  var cl = checked_button.parentElement.classList;
  var labels = checked_button.parentElement.parentElement.children;
  
  /* get rid of styles */
  for (i = 0; i < labels.length; i++) {
    labels[i].classList.remove("webex-incorrect");
    labels[i].classList.remove("webex-correct");
  }
  
  /* add style */
  if (checked_button.value == "answer") {
    cl.add("webex-correct");
  } else {
    cl.add("webex-incorrect");
  }
  
  update_total_correct();
}

window.onload = function() {
  console.log("onload");
  /* set up solution buttons */
  var buttons = document.getElementsByTagName("button");

  for (var i = 0; i < buttons.length; i++) {
    if (buttons[i].parentElement.classList.contains('webex-solution')) {
      buttons[i].onclick = b_func;
    }
  }

  /* set up webex-solveme inputs */
  var solveme = document.getElementsByClassName("webex-solveme");

  for (var i = 0; i < solveme.length; i++) {
    /* make sure input boxes don't auto-anything */
    solveme[i].setAttribute("autocomplete","off");
    solveme[i].setAttribute("autocorrect", "off");
    solveme[i].setAttribute("autocapitalize", "off");
    solveme[i].setAttribute("spellcheck", "false");
    solveme[i].value = "";

    /* adjust answer for ignorecase or nospaces */
    var cl = solveme[i].classList;
    var real_answer = solveme[i].dataset.answer;
    if (cl.contains("ignorecase")) {
      real_answer = real_answer.toLowerCase();
    }
    if (cl.contains("nospaces")) {
      real_answer = real_answer.replace(/ /g, "");
    }
    solveme[i].dataset.answer = real_answer;

    /* attach checking function */
    solveme[i].onkeyup = solveme_func;
    solveme[i].onchange = solveme_func;
  }
  
  /* set up radiogroups */
  var radiogroups = document.getElementsByClassName("webex-radiogroup");
  for (var i = 0; i < radiogroups.length; i++) {
    radiogroups[i].onchange = radiogroups_func;
  }
  
  /* set up selects */
  var selects = document.getElementsByClassName("webex-select");
  for (var i = 0; i < selects.length; i++) {
    selects[i].onchange = select_func;
  }

  update_total_correct();
}

</script>
            </section>

          </div>
        </div>
      </div>
<a href="setup.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
