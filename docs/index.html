<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Core Empirical Research Methods</title>
  <meta name="description" content="Core Empirical Research Methods" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Core Empirical Research Methods" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Core Empirical Research Methods" />
  
  
  

<meta name="author" content="Francis J. DiTraglia" />


<meta name="date" content="2022-02-19" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  

<link rel="next" href="rcrash.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>




</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#pre-requisites"><i class="fa fa-check"></i>Pre-requisites</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#why-not-stata"><i class="fa fa-check"></i>Why not Stata?</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#why-not-matlab"><i class="fa fa-check"></i>Why not Matlab?</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#why-r"><i class="fa fa-check"></i>Why R?</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#some-half-truths-about-r"><i class="fa fa-check"></i>Some Half-truths about R</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#why-not-julia-or-python"><i class="fa fa-check"></i>Why not Julia or Python?</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="rcrash.html"><a href="rcrash.html"><i class="fa fa-check"></i><b>1</b> A Crash Course in R Programming</a>
<ul>
<li class="chapter" data-level="1.1" data-path="rcrash.html"><a href="rcrash.html#installing-r-and-rstudio"><i class="fa fa-check"></i><b>1.1</b> Installing R and RStudio</a></li>
<li class="chapter" data-level="1.2" data-path="rcrash.html"><a href="rcrash.html#working-with-r-scripts"><i class="fa fa-check"></i><b>1.2</b> Working with R Scripts</a></li>
<li class="chapter" data-level="1.3" data-path="rcrash.html"><a href="rcrash.html#the-absolute-basics"><i class="fa fa-check"></i><b>1.3</b> The Absolute Basics</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="rcrash.html"><a href="rcrash.html#arithmetic"><i class="fa fa-check"></i><b>1.3.1</b> Arithmetic</a></li>
<li class="chapter" data-level="1.3.2" data-path="rcrash.html"><a href="rcrash.html#exponents-logarithms-and-trigonometry"><i class="fa fa-check"></i><b>1.3.2</b> Exponents, Logarithms, and Trigonometry</a></li>
<li class="chapter" data-level="1.3.3" data-path="rcrash.html"><a href="rcrash.html#logical-comparison"><i class="fa fa-check"></i><b>1.3.3</b> Logical Comparison</a></li>
<li class="chapter" data-level="1.3.4" data-path="rcrash.html"><a href="rcrash.html#strings-text"><i class="fa fa-check"></i><b>1.3.4</b> Strings (text)</a></li>
<li class="chapter" data-level="1.3.5" data-path="rcrash.html"><a href="rcrash.html#variables"><i class="fa fa-check"></i><b>1.3.5</b> Variables</a></li>
<li class="chapter" data-level="1.3.6" data-path="rcrash.html"><a href="rcrash.html#vectors-types"><i class="fa fa-check"></i><b>1.3.6</b> Vectors &amp; Types</a></li>
<li class="chapter" data-level="1.3.7" data-path="rcrash.html"><a href="rcrash.html#vector-arithmetic-and-functions"><i class="fa fa-check"></i><b>1.3.7</b> Vector Arithmetic and Functions</a></li>
<li class="chapter" data-level="1.3.8" data-path="rcrash.html"><a href="rcrash.html#subsetting-vectors"><i class="fa fa-check"></i><b>1.3.8</b> Subsetting Vectors: <code>[</code></a></li>
<li class="chapter" data-level="1.3.9" data-path="rcrash.html"><a href="rcrash.html#named-vectors"><i class="fa fa-check"></i><b>1.3.9</b> Named Vectors</a></li>
<li class="chapter" data-level="1.3.10" data-path="rcrash.html"><a href="rcrash.html#getting-help-documentation"><i class="fa fa-check"></i><b>1.3.10</b> Getting Help: Documentation</a></li>
<li class="chapter" data-level="1.3.11" data-path="rcrash.html"><a href="rcrash.html#lists"><i class="fa fa-check"></i><b>1.3.11</b> Lists</a></li>
<li class="chapter" data-level="1.3.12" data-path="rcrash.html"><a href="rcrash.html#packages"><i class="fa fa-check"></i><b>1.3.12</b> Packages</a></li>
<li class="chapter" data-level="1.3.13" data-path="rcrash.html"><a href="rcrash.html#data.tables"><i class="fa fa-check"></i><b>1.3.13</b> <code>data.table</code>s</a></li>
<li class="chapter" data-level="1.3.14" data-path="rcrash.html"><a href="rcrash.html#subsetting-data"><i class="fa fa-check"></i><b>1.3.14</b> Subsetting data</a></li>
<li class="chapter" data-level="1.3.15" data-path="rcrash.html"><a href="rcrash.html#loading-external-data-data-summary"><i class="fa fa-check"></i><b>1.3.15</b> Loading External Data &amp; Data Summary</a></li>
<li class="chapter" data-level="1.3.16" data-path="rcrash.html"><a href="rcrash.html#more-on-data.table-access"><i class="fa fa-check"></i><b>1.3.16</b> More on <code>data.table</code> Access</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Core Empirical Research Methods</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="header">
<h1 class="title">Core Empirical Research Methods</h1>
<p class="author"><em>Francis J. DiTraglia</em></p>
<p class="date"><em>2022-02-19</em></p>
</div>
<div id="preface" class="section level1 unnumbered">
<h1>Preface</h1>
<p>You’ve probably heard that “the only way to learn how to do research is by doing research.” Like most familiar sayings, this one has contains a deep kernel of truth. You can’t learn applied econometrics by watching someone else do it: you have to roll up your sleeves, sit down at your computer, and get your hands dirty with real data. But I sometimes hear this phrase used in a different way, as an excuse for passing over practical skills in the graduate economics curriculum. “The sharpest students will figure this stuff out for themselves anyway” is a common refrain. Or perhaps “it’s only when students have a research question of their own that they’ll be motivated to learn.” Indeed: to do research you have to be something of an autodidact, capable of teaching yourself new skills on the fly. And there’s nothing like a pressing problem to provide the required impetus. But these arguments prove too much. Why teach microeconomic theory? Smart and motivated students can pick up any number of excellent textbooks and choose from a cornucopia of YouTube videos.</p>
<div id="pre-requisites" class="section level2 unnumbered">
<h2>Pre-requisites</h2>
</div>
<div id="why-not-stata" class="section level2 unnumbered">
<h2>Why not Stata?</h2>
<p><a href="https://stata.com">Stata</a> remains a popular choice among applied microeconomists.
There’s a good chance that you have have encountered it in your undergraduate studies or working as a research assistant.
In its favor, Stata is easy-to-use, and makes it relatively painless to implement “textbook” econometric methods.
So why not use Stata?
Before beginning my polemic I should be absolutely clear that Stata users are not bad people: love the sinner, hate the sin.
Here begins the sermon.</p>
<p>First, Stata is expensive.
The price for a Business single-user Stata license is $765 <em>per year</em>.<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a>
If you want support for multicore computing, the price is even higher: an 8-core version of Stata costs $1,395 annually.
There is no discount for Government or nonprofits, but as an Oxford faculty member, I can obtain an 8-core version of Stata for the low price of $595 per year.
In contrast, the tools that we will learn in this book, mainly R and C++, are completely free.
This is particularly important in the modern world of high-performance cluster computing.
If you want to run your code on a multicore machine on Amazon, Google, or Microsoft cloud servers, you do not wan to be paying a software license fee for every core that you use.</p>
<p>Second, Stata is almost comically behind the times.
Let’s see what’s new in Stata version 16, released in February 2020.<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a>
At the top of the list is the LASSO, a wildly popular technique for high-dimensional regression.
Rob Tibshirani developed this method in a seminal paper from 1996, so it only took 24 years for it to be incorporated into Stata.<a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a>
Fortunately, Tibshirani and his co-authors made it easy for Stata, by releasing open-source software to implement the LASSO and related methods in R over a decade ago.<a href="#fn4" class="footnote-ref" id="fnref4"><sup>4</sup></a>
Next on the list of new Stata features is linear programming, a technique that came to prominence in the late 1940s.<a href="#fn5" class="footnote-ref" id="fnref5"><sup>5</sup></a>
Stata 16 also has the ability to call “any Python package”–something you can do for free in R using <a href="https://github.com/rstudio/reticulate">reticulate</a> or in Python itself for that matter–and “truly reproducible reporting.”
Reproducible reporting is incredibly valuable, and it’s something that we’ll cover in detail below.
It’s also been available in R, completely free of charge, since at least 2002.<a href="#fn6" class="footnote-ref" id="fnref6"><sup>6</sup></a>
I suppose we shouldn’t expect too much of a statistical computing package that only added support for matrix programming in 2005, a full 20 years after Stata version 1.0.<a href="#fn7" class="footnote-ref" id="fnref7"><sup>7</sup></a></p>
<p>Third, Stata is a black box.
Because the underlying source code is kept secret, there’s no way for a Stata user to know for certain what’s happening under the hood.
A few years ago I tried to determine precisely what instrument set Stata was using in its implementation of a well-known dynamic panel estimator.
The documentation was vague, so resorted to reverse-engineering the Stata results by trial-and-error in R.
We never did get the results to match perfectly.
In contrast, if you’re not sure what a particular R function or package is doing, you can simply read the source code and find out.</p>
<p>Fourth, and most importantly, Stata makes it hard to share with others.
If I don’t own a copy of Stata, I can’t replicate your work.
Even if I do own a copy of Stata, I still may not be able to so do: Stata’s proprietary binary data formats are updated fairly regularly and do not maintain backwards compatibility.
Datafiles created in Stata version 16, for example, cannot be opened in Stata 13.
Indeed, depending on the number of variables included in your dataset, Stata 16 files cannot necessarily be opened even in Stata 15.
Fortunately, as we’ll see below, intrepid open-source programmers have developed free software to unlock data from Stata’s proprietary and ever-changing binary formats.</p>
</div>
<div id="why-not-matlab" class="section level2 unnumbered">
<h2>Why not Matlab?</h2>
<p>Matlab is much more capable and much less out-of-date than Stata, but many of the same critiques apply: it’s expensive, and it’s not open source.
There is an open-source clone called <code>octave</code>.
There’s also an open-source C++ library called <code>Armadillo</code> with syntax almost identical to that of Matlab.
We’ll see how easy it is to use <code>Armadillo</code> from R with only the rudiments of C++ background.</p>
</div>
<div id="why-r" class="section level2 unnumbered">
<h2>Why R?</h2>
<ul>
<li>R is Free</li>
<li>R has cutting-edge methods (CRAN task views)</li>
<li>R is open-source: you can check the source code for yourself!</li>
<li>R supports open science</li>
<li>Great community</li>
</ul>
</div>
<div id="some-half-truths-about-r" class="section level2 unnumbered">
<h2>Some Half-truths about R</h2>
<ul>
<li>R is slow. This is true, sort of. But then we have amazing tools like Rcpp</li>
<li>R is hard to learn. It’s certainly harder to learn than something like STATA, but it’s also much more powerful. Also, Hal Varian’s paper: <a href="https://people.ischool.berkeley.edu/~hal/Papers/Software.pdf">Economic Incentives in Software Design</a>. Monopolist may make software <em>too easy</em> to learn.</li>
<li>Economists don’t use R. Anecdotally, this seems to be a generational divide: open source tools are the norm and there are lots of R packages for econometrics.</li>
</ul>
</div>
<div id="why-not-julia-or-python" class="section level2 unnumbered">
<h2>Why not Julia or Python?</h2>
<p>On balance, I prefer R/C++ in my day-to-day work but Python and Julia are great options too and you should most certainly give them a try.
A good resource aimed at economists is the <code>quantecon.org</code>: <a href="https://python.quantecon.org/" class="uri">https://python.quantecon.org/</a> and <a href="https://julia.quantecon.org/" class="uri">https://julia.quantecon.org/</a></p>
<!-- If you need PDF output, uncomment bookdown::pdf_book above in YAML. You will need a LaTeX installation, e.g., https://yihui.name/tinytex/ -->

</div>
</div>
<div class="footnotes">
<hr />
<ol start="1">
<li id="fn1"><p>These figures were accurate as of March 2021. For the latest prices, see <a href="https://www.stata.com/order/dl/" class="uri">https://www.stata.com/order/dl/</a>.<a href="index.html#fnref1" class="footnote-back">↩︎</a></p></li>
<li id="fn2"><p><a href="https://www.stata.com/new-in-stata/" class="uri">https://www.stata.com/new-in-stata/</a><a href="index.html#fnref2" class="footnote-back">↩︎</a></p></li>
<li id="fn3"><p><a href="https://rss.onlinelibrary.wiley.com/doi/pdfdirect/10.1111/j.2517-6161.1996.tb02080.x">Tibshirani (1996) - Regression Shrinkage and Selection via the Lasso</a><a href="index.html#fnref3" class="footnote-back">↩︎</a></p></li>
<li id="fn4"><p><a href="https://www.jstatsoft.org/article/view/v033i01">Friedman et al (2010) - Regularization Paths for Generalized Linear Models via Coordinate Descent</a><a href="index.html#fnref4" class="footnote-back">↩︎</a></p></li>
<li id="fn5"><p>For a history of linear programming, see <a href="https://link.springer.com/content/pdf/10.1007/978-3-642-68874-4_4.pdf">Dantzig (1983)</a>. To be completely fair, the linear programming <a href="https://www.stata.com/new-in-stata/linear-programming/">algorithm</a>
implemented in Stata 16 was only developed in 1992, a lag of merely 28 years.<a href="index.html#fnref5" class="footnote-back">↩︎</a></p></li>
<li id="fn6"><p>Reproducible reporting in R started with <a href="https://cran.r-project.org/doc/Rnews/Rnews_2002-3.pdf">sweave</a>. These days we have a fantastic successor package called <a href="https://yihui.org/knitr/">knitr</a>, which I cover below.<a href="index.html#fnref6" class="footnote-back">↩︎</a></p></li>
<li id="fn7"><p>The “Mata” programming language was added in Stata 9: <a href="https://www.stata.com/stata9/" class="uri">https://www.stata.com/stata9/</a>. For a timeline of Stata versions, see <a href="https://www.stata.com/support/faqs/resources/history-of-stata/" class="uri">https://www.stata.com/support/faqs/resources/history-of-stata/</a>.<a href="index.html#fnref7" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>

<a href="rcrash.html" class="navigation navigation-next navigation-unique" aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
